<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./assets/css/base.css">
    <link rel="stylesheet" href="./assets/css/main.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap');
    </style>
    <title>Document</title>
</head>
<body>
    <h1>Feedback Form</h1>
    <form action="" class="form">

        <div class="row">
            <div class="info">
                <h3 class="info-label">Name</h3>
                <input type="text" class="info-input" placeholder="Le Viet Hoang" id="name_input">
                <h4 class="info-label--error error-name hidden">*Please enter name valid!!!!</h3>
            </div>
            <div class="info">
                <h3 class="info-label">Contact Number</h3>
                <input type="text" class="info-input" placeholder="0817245552" id="phone_input">
                <h4 class="info-label--error error-phone hidden">*Please enter phone valid!!</h3>
            </div>
            <div class="info" style="width: 100%;">
                <h3 class="info-label">Email Address</h3>
                <input type="email" class="info-input" placeholder="xyz123@gmail.com" id="email">
                <h4 class="info-label--error error-email hidden">*Please enter email valid!!!!</h3>
            </div>

        </div>
        <div class="row">
            <h3>Share your experience in scaling</h3>
        </div>
        <ul class="row">
            <li class="status-item status--none"><img src="./assets/img/level1-none.png" alt="">
            <h3 class="status-name">Worst</h3>
            </li>
            <li class="status-item status--none"><img src="./assets/img/level2-none.png" alt="">
            <h3 class="status-name">Not Good</h3>
            </li>
            <li class="status-item status--display"><img src="./assets/img/level3-display.png" alt="">
            <h3 class="status-name">Fine</h3>
            </li>
            <li class="status-item status--none"><img src="./assets/img/level4-none.png" alt="">
            <h3 class="status-name">Look Good</h3>
            </li>
            <li class="status-item status--none"><img src="./assets/img/level5-none.png" alt="">
            <h3 class="status-name">Very Good</h3>
            </li>
        </ul>
        <div class="row center">
            <input type="range" class="status-value" min="0" max="80" value="40" id="rangeInput">
        </div>
        <div class="row">
            <textarea name="" class="message" id="" cols="30" rows="8" placeholder="Add your comments">

            </textarea>
        </div>
        <div class="row">
            <button class="submit">SUBMIT</button>
        </div>
    </form>
    <script>

        const rangeInput = document.getElementById('rangeInput');
        const statusItems = document.querySelectorAll('.status-item');
        const statusImg = document.querySelectorAll('.status-item img');

        
        function turnOnStatus(value){
            statusItems.forEach(item => {
                item.classList.remove('status--display');
                item.classList.add('status--none')
            });
            statusItems[value].classList.add('status--display')
            statusImg[0].src = './assets/img/level1-none.png'
            statusImg[1].src = './assets/img/level2-none.png'
            statusImg[2].src = './assets/img/level3-none.png'
            statusImg[3].src = './assets/img/level4-none.png'
            statusImg[4].src = './assets/img/level5-none.png'

            if(value == 0){
                statusImg[0].src = './assets/img/level1-display.png'
            }
            else if(value == 1){
                statusImg[1].src = './assets/img/level2-display.png'
            }
            else if(value == 2){
                statusImg[2].src = './assets/img/level3-display.png'
            }
            else if(value == 3){
                statusImg[3].src = './assets/img/level4-display.png'
            }
            else if(value == 4){
                statusImg[4].src = './assets/img/level5-display.png'
            }

        }


        rangeInput.addEventListener('mouseup', function() {
        const value = parseInt(rangeInput.value);
        if(value < 10){
            rangeInput.value = 0;
            turnOnStatus(0);
            
        }
        else if(value >= 10 && value <30){
            rangeInput.value = 20
            turnOnStatus(1);
        }
        else if(value >= 30 && value < 50){
            rangeInput.value = 40
            turnOnStatus(2);
        }
        else if(value >= 50 && value < 70){
            rangeInput.value = 60
            turnOnStatus(3);
        }
        else if(value >= 70 ){
            rangeInput.value = 80
            turnOnStatus(4);
        }
        });
        
        function hasSpecialCharacter(str) {
            const specialCharacterPattern = /[!@#$%^&*(),.?":{}|<>]/;
            return specialCharacterPattern.test(str);
        }
        function isValidPhoneNumber(phoneNumber) {
    const phonePattern = /^[0-9]{10}$/;
    return phonePattern.test(phoneNumber);
}

function isValidEmail(email) {
    const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return emailPattern.test(email);
}

        const errorNameLabel = document.querySelector('.error-name');

        document.addEventListener('DOMContentLoaded', function() {
            const inputElement = document.getElementById('name_input');

            inputElement.addEventListener('input', function() {
            const inputValue = inputElement.value;

            if (hasSpecialCharacter(inputValue)) {
            errorNameLabel.classList.remove('hidden');
            } else {
            errorNameLabel.classList.add('hidden');
            }
    });

    const phoneInput = document.getElementById('phone_input');
    const emailInput = document.getElementById('email');
    const errorPhoneLabel = document.querySelector('.error-phone');
    const errorEmailLabel = document.querySelector('.error-email');

    phoneInput.addEventListener('input', function() {
        const phoneValue = phoneInput.value;
        if (isValidPhoneNumber(phoneValue)) {
            errorPhoneLabel.classList.add('hidden');
        } else {
            errorPhoneLabel.classList.remove('hidden');
        }
    });

    emailInput.addEventListener('input', function() {
        const emailValue = emailInput.value;
        if (isValidEmail(emailValue)) {
            errorEmailLabel.classList.add('hidden');
        } else {
            errorEmailLabel.classList.remove('hidden');
        }
    });
});







    </script>
</body>
</html>